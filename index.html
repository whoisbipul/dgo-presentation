<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Business of Sports | DGO Strategy</title>
    <!-- IMPORT POPPINS FONT -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        /* --- DESIGN SYSTEM --- */
        :root {
            --brand-red: #D32F2F;
            --brand-red-light: #FFEBEE;
            --brand-red-hover: #B71C1C;
            --bg-body: #F9FAFB;
            --bg-card: #FFFFFF;
            --text-main: #1F2937;
            --text-muted: #6B7280;
            --border-light: #E5E7EB;
            --nav-height: 70px;
            --container-width: 1200px;
            --font-family: 'Poppins', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            --ease-out: cubic-bezier(0.215, 0.61, 0.355, 1);
            --ease-elastic: cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: var(--font-family);
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
            letter-spacing: -0.01em; 
        }

        /* --- GLOBAL ELEMENTS --- */
        #global-logo {
            position: fixed; top: 0; left: 0; height: 90px; width: 300px; z-index: 2000; 
            display: flex; align-items: center; padding-left: 20px; pointer-events: none; 
        }
        #global-logo img {
            max-height: 65px; width: auto; display: block; pointer-events: auto;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.05));
        }
        .logo-fallback {
            font-weight: 800; font-size: 1.5rem; color: var(--text-main);
            display: flex; align-items: center; gap: 8px; pointer-events: auto;
            background: rgba(255,255,255,0.95); padding: 8px 15px; border-radius: 8px; border: 1px solid #eee;
        }
        .logo-fallback::before { content: ''; display: block; width: 14px; height: 14px; background: var(--brand-red); border-radius: 50%; }

        #navbar {
            position: fixed; top: 0; left: 0; right: 0; height: var(--nav-height);
            background: rgba(255, 255, 255, 0.98); border-bottom: 1px solid var(--border-light);
            z-index: 1000; display: flex; align-items: center; justify-content: space-between; 
            padding-right: 40px; padding-left: 280px; transition: all 0.3s ease;
        }
        .nav-links { display: flex; gap: 30px; list-style: none; }
        .nav-links li a {
            text-decoration: none; color: var(--text-muted); font-weight: 500; font-size: 0.9rem;
            position: relative; transition: color 0.3s;
        }
        .nav-links li a:hover, .nav-links li a.active { color: var(--brand-red); }
        .nav-links li a.active::after {
            content: ''; position: absolute; bottom: -24px; left: 0; right: 0; height: 3px; background: var(--brand-red);
        }

        .btn-toggle {
            background: none; border: 1px solid var(--border-light); padding: 6px 16px; border-radius: 6px;
            cursor: pointer; font-size: 0.85rem; font-weight: 600; display: flex; align-items: center; gap: 6px;
            transition: all 0.2s; font-family: var(--font-family);
        }
        .btn-toggle:hover { border-color: var(--brand-red); color: var(--brand-red); }

        #progress-container { position: fixed; top: var(--nav-height); left: 0; width: 100%; height: 3px; z-index: 999; background: transparent; }
        #progress-bar { height: 100%; background: var(--brand-red); width: 0%; transition: width 0.2s; }

        .container { max-width: 1200px; margin: 0 auto; width: 100%; position: relative; z-index: 2; }
        .badge { display: inline-block; padding: 4px 12px; border-radius: 50px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; margin-bottom: 15px;}
        .badge-red { background: var(--brand-red-light); color: var(--brand-red); }

        /* --- BACKGROUND PATTERN --- */
        .bg-pattern {
            background-color: white; 
            background-image: radial-gradient(#e5e7eb 1px, transparent 1px);
            background-size: 30px 30px; 
        }
        .bg-pattern::after {
            content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 150px;
            background: linear-gradient(to bottom, transparent, white); pointer-events: none;
        }

        section {
            min-height: 100vh; padding: 80px 20px;
            display: flex; flex-direction: column; justify-content: center;
            position: relative; border-bottom: 1px solid var(--border-light);
        }

        .section-title { font-size: 2.5rem; font-weight: 800; margin-bottom: 10px; line-height: 1.2; }
        .section-subtitle { font-size: 1.1rem; color: var(--text-muted); max-width: 700px; margin-bottom: 40px; font-weight: 400; }

        /* --- HOME ASSETS --- */
        .home-title { font-size: 3.5rem; font-weight: 800; line-height: 1.1; margin-bottom: 20px; color: var(--text-main); position: relative;}
        .home-subtitle { font-size: 1.2rem; color: var(--text-muted); max-width: 800px; margin-bottom: 40px; }
        .live-dot {
            display: inline-block; width: 12px; height: 12px; background: var(--brand-red); border-radius: 50%;
            margin-bottom: 8px; margin-right: 8px; vertical-align: middle;
            box-shadow: 0 0 0 rgba(211, 47, 47, 0.4); animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(211, 47, 47, 0); } 100% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0); } }

        .asset-container { display: flex; gap: 15px; margin-bottom: 30px; position: relative; }
        .asset-item {
            position: relative; background: white; border: 1px solid #ddd; padding: 12px 24px; border-radius: 50px;
            cursor: pointer; transition: all 0.3s ease; font-weight: 600; color: #333; display: flex; align-items: center; gap: 8px; z-index: 10;
        }
        .asset-item:hover { border-color: var(--brand-red); color: var(--brand-red); transform: translateY(-2px); z-index: 100; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .asset-dot { width: 8px; height: 8px; background: #ccc; border-radius: 50%; transition: background 0.3s; }
        .asset-item:hover .asset-dot { background: var(--brand-red); }

        .asset-popup {
            position: absolute; bottom: 140%; left: 50%; transform: translateX(-50%) translateY(10px) scale(0.95);
            width: 280px; background: white; border-radius: 12px; box-shadow: 0 15px 30px rgba(0,0,0,0.15);
            opacity: 0; visibility: hidden; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none; border: 1px solid #eee; overflow: hidden;
        }
        .asset-item:hover .asset-popup { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0) scale(1); }
        .popup-img-wrapper { width: 100%; height: 150px; overflow: hidden; background: #f0f0f0; }
        .asset-popup img { width: 100%; height: 100%; object-fit: cover; transition: transform 3s ease; }
        .asset-item:hover .asset-popup img { transform: scale(1.1); }
        .popup-text { padding: 15px; font-size: 0.85rem; color: #555; line-height: 1.4; text-align: left; font-weight: 400; background: white; }

        /* --- MARKET STRIP --- */
        .market-strip-container { margin-bottom: 50px; width: 100%; }
        .market-strip {
            display: flex; background: linear-gradient(135deg, var(--brand-red) 0%, #b71c1c 100%);
            border-radius: 12px; padding: 25px 30px; color: white; justify-content: space-around;
            align-items: center; box-shadow: 0 15px 30px rgba(183, 28, 28, 0.25);
        }
        .market-stat { text-align: center; border-right: 1px solid rgba(255,255,255,0.2); flex: 1; }
        .market-stat:last-child { border-right: none; }
        .m-val { font-size: 2.2rem; font-weight: 700; line-height: 1; margin-bottom: 5px; font-feature-settings: "tnum"; font-variant-numeric: tabular-nums; }
        .m-label { font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; opacity: 0.9; font-weight: 500;}
        .market-source { text-align: right; font-size: 0.75rem; color: #999; margin-top: 8px; font-style: italic; }

        /* --- ECOSYSTEM CHAIN --- */
        .ecosystem-chain { display: flex; align-items: stretch; gap: 20px; margin-bottom: 50px; width: 100%; position: relative; }
        .eco-step {
            flex: 1; background: white; border: 1px solid #eee; border-radius: 8px; padding: 25px 20px;
            position: relative; transition: transform 0.2s, border-color 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.02);
        }
        .eco-step:hover { transform: translateY(-5px); border-color: var(--brand-red); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .eco-step:not(:last-child)::after {
            content: '‚Üí'; position: absolute; right: -18px; top: 50%; transform: translateY(-50%); font-size: 1.5rem; color: #ccc; z-index: 10;
        }
        .step-icon {
            font-size: 1.5rem; margin-bottom: 15px; color: var(--brand-red); background: #fafafa; width: 40px; height: 40px;
            display: flex; align-items: center; justify-content: center; border-radius: 50%; border: 1px solid #eee;
        }
        .step-title { font-weight: 700; font-size: 1.1rem; margin-bottom: 8px; }
        .step-desc { font-size: 0.85rem; color: #666; line-height: 1.5; }

        /* --- STRATEGY GRID (BENTO) --- */
        .grid-header { font-size: 0.9rem; font-weight: 700; color: #999; text-transform: uppercase; margin-bottom: 15px; letter-spacing: 1px; padding-left: 5px; border-left: 3px solid var(--brand-red); }
        
        .bento-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; width: 100%; margin-bottom: 40px;
        }

        .pop-card {
            background: white; border-radius: 16px; padding: 30px; border: 1px solid #eee;
            transition: all 0.4s var(--ease-elastic); position: relative; z-index: 1;
            display: flex; flex-direction: column; justify-content: space-between;
            box-shadow: 0 4px 10px rgba(0,0,0,0.03); cursor: pointer;
        }
        
        /* FIX FOR DARK CARD (NEPAL) */
        .card-dark {
            background: linear-gradient(135deg, #1F2937 0%, #111827 100%) !important;
            border: none !important;
        }
        .card-dark .brand-logo-text { color: var(--brand-red) !important; }
        .card-dark .stat-huge { color: white !important; }
        .card-dark .desc-text { color: rgba(255,255,255,0.7) !important; }
        .card-dark .stat-label { color: rgba(255,255,255,0.5) !important; }
        .card-dark .citation-box { color: rgba(255,255,255,0.4) !important; border-color: rgba(255,255,255,0.1) !important; }
        
        .pop-card::after {
            content: 'View Data ‚Üó'; position: absolute; bottom: 30px; right: 30px; 
            font-size: 0.8rem; font-weight: 700; opacity: 0; transform: translateY(10px); 
            transition: all 0.3s; color: inherit;
        }
        .card-dark::after { color: white; } /* Fix hover text for dark card */

        .pop-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15); z-index: 10; border-color: #ddd;
        }
        .pop-card:hover::after { opacity: 0.6; transform: translateY(0); }
        .col-span-2 { grid-column: span 2; }
        
        .brand-logo-text { font-size: 1.2rem; font-weight: 800; margin-bottom: 15px; display:flex; align-items: center; gap:8px; }
        .stat-row { display: flex; gap: 30px; margin-bottom: 20px; }
        .stat-huge { font-size: 2.2rem; font-weight: 800; color: #333; line-height: 1; margin-bottom: 5px; }
        .stat-label { font-size: 0.8rem; text-transform: uppercase; color: #777; font-weight: 600; letter-spacing: 0.5px; }
        .desc-text { font-size: 0.9rem; color: #555; line-height: 1.5; margin-bottom: 15px; }
        .citation-box { font-size: 0.75rem; color: #999; font-style: italic; border-top: 1px solid #f0f0f0; padding-top: 10px; margin-top: auto; }

        /* --- NEW FLYWHEEL CSS --- */
        .flywheel-container {
            display: flex; align-items: center; justify-content: space-between;
            background: white; border: 1px dashed #ccc; border-radius: 12px; padding: 30px;
            position: relative; margin-top: 20px;
        }
        .fw-item { flex: 1; display: flex; gap: 15px; align-items: flex-start; padding: 0 10px; }
        .fw-icon {
            font-size: 2rem; background: var(--brand-red-light); width: 50px; height: 50px;
            display: flex; align-items: center; justify-content: center; border-radius: 8px; flex-shrink: 0;
        }
        .fw-title { font-weight: 800; color: var(--text-main); margin-bottom: 5px; }
        .fw-desc { font-size: 0.85rem; color: var(--text-muted); line-height: 1.4; }
        .fw-arrow { font-size: 1.5rem; color: #ccc; padding: 0 20px; font-weight: 300; }

        /* --- MODAL DIALOGUE --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(8px);
            z-index: 3000; opacity: 0; visibility: hidden;
            transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        
        .modal-content {
            background: white; width: 90%; max-width: 800px; max-height: 90vh;
            border-radius: 16px; position: relative; overflow-y: auto;
            transform: scale(0.95); transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
        }
        .modal-overlay.active .modal-content { transform: scale(1); }
        
        .modal-header { padding: 30px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: flex-start; }
        .btn-close { background: none; border: none; font-size: 2rem; line-height: 0.5; cursor: pointer; padding: 10px; color: #999; }
        .btn-close:hover { color: var(--brand-red); }
        
        .modal-body { padding: 40px 30px; }
        .detail-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-bottom: 40px; }
        .d-metric-box { background: #f9f9f9; padding: 20px; border-radius: 8px; border-left: 4px solid var(--brand-red); }
        .d-val { font-size: 1.8rem; font-weight: 800; color: #333; }
        .d-lab { font-size: 0.75rem; text-transform: uppercase; color: #666; letter-spacing: 0.5px; margin-top: 5px; }
        
        .chart-container { margin-top: 20px; }
        .chart-row { display: flex; align-items: center; margin-bottom: 15px; font-size: 0.85rem; }
        .c-label { width: 100px; font-weight: 600; color: #555; }
        .c-bar-area { flex: 1; background: #eee; height: 12px; border-radius: 6px; margin: 0 15px; overflow: hidden; }
        .c-bar-fill { height: 100%; background: #333; border-radius: 6px; width: 0%; transition: width 1s ease 0.3s; position: relative;}
        .c-val { width: 60px; text-align: right; font-weight: 700; color: #333; }

        /* --- UPDATED TECH PIPELINE (DARK MODE NOC STYLE) --- */
        .pipeline-container {
            display: flex; align-items: center; justify-content: space-between;
            position: relative;
            background: #0f172a; /* Dark Blue/Black */
            border: 1px solid #1e293b; 
            padding: 50px 40px 40px; 
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            margin-top: 30px; margin-bottom: 30px;
            color: white;
        }

        .live-indicator {
            position: absolute; top: 20px; left: 30px;
            font-size: 0.75rem; font-weight: 700; letter-spacing: 1px; color: var(--brand-red);
            display: flex; align-items: center; gap: 8px;
        }
        .blink-dot { width: 8px; height: 8px; background: var(--brand-red); border-radius: 50%; animation: pulse-fast 1s infinite; }
        @keyframes pulse-fast { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

        .pipe-node { text-align: center; position: relative; flex: 1; }
        .pipe-icon { 
            width: 60px; height: 60px; background: #1e293b; border: 2px solid #334155;
            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
            margin: 0 auto 15px; font-size: 1.5rem; position: relative; z-index: 2; color: white;
        }
        .pipe-label { font-weight: 700; color: white; font-size: 1rem; margin-bottom: 2px; }
        .pipe-tech { font-size: 0.75rem; color: #94a3b8; font-family: monospace; margin-bottom: 2px; }
        .pipe-stat { font-size: 0.8rem; color: #4ade80; font-weight: 700; font-family: monospace; }
        
        /* Connecting Line */
        .pipe-line {
            position: absolute; top: 30px; left: 50%; right: -50%; height: 3px; background: #334155; z-index: 1;
        }
        .pipe-node:last-child .pipe-line { display: none; }
        /* Animated Flow Dot */
        .flow-dot {
            position: absolute; top: -4px; left: 0; width: 10px; height: 10px; border-radius: 50%;
            background: #4ade80; box-shadow: 0 0 10px #4ade80; animation: flow 2s infinite linear;
        }
        @keyframes flow { 0% { left: 0; opacity: 1; } 100% { left: 100%; opacity: 0; } }

        /* TECH GRID (NEW) */
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; margin-top: 30px; }
        .tech-card {
            background: white; padding: 25px; border-radius: 12px; border: 1px solid #eee;
            transition: transform 0.3s ease; display: flex; flex-direction: column;
        }
        .tech-card:hover { transform: translateY(-5px); border-color: var(--brand-red); }
        .tc-header { display: flex; align-items: center; gap: 12px; margin-bottom: 15px; }
        .tc-icon { font-size: 1.5rem; }
        .tc-title { font-weight: 700; font-size: 1rem; color: #333; }
        .tc-desc { font-size: 0.9rem; color: #666; line-height: 1.6; margin-bottom: 20px; flex-grow: 1; }
        .tc-tag { 
            align-self: flex-start; font-size: 0.7rem; font-weight: 700; 
            text-transform: uppercase; background: #f3f4f6; color: #555; 
            padding: 4px 10px; border-radius: 4px; letter-spacing: 0.5px; 
        }

        /* --- COMMERCIAL & TIMELINE --- */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .text-red { color: var(--brand-red); }
        .timeline-wrapper { position: relative; padding-left: 40px; border-left: 2px solid #eee; margin-top: 30px;}
        .timeline-item { position: relative; margin-bottom: 40px; }
        .timeline-item::before { content: ''; position: absolute; left: -49px; top: 0; width: 16px; height: 16px; border-radius: 50%; background: white; border: 3px solid var(--brand-red); }
        .timeline-date { font-weight: 700; color: var(--brand-red); display: block; margin-bottom: 5px;}

        /* --- UTILS --- */
        .btn-start { margin-top: 20px; background: var(--brand-red); color: white; padding: 12px 30px; border-radius: 6px; text-decoration: none; font-weight: 600; display: inline-block; }
        .fade-in-up { opacity: 0; transform: translateY(20px); transition: opacity 0.6s var(--ease-out), transform 0.6s var(--ease-out); }
        .fade-in-up.visible { opacity: 1; transform: translateY(0); }
        .delay-1 { transition-delay: 0.1s; } .delay-2 { transition-delay: 0.2s; } .delay-3 { transition-delay: 0.3s; }
        .delay-4 { transition-delay: 0.4s; } .delay-5 { transition-delay: 0.5s; }
        .img-placeholder { width: 100%; height: 100%; background: #e0e0e0; display: flex; align-items: center; justify-content: center; color: #888; }

        /* PRESENTER MODE */
        body.presenter-mode { --font-size-base: 22px; --container-width: 95%; background-color: white; }
        body.presenter-mode #navbar { padding-left: 320px; justify-content: flex-end; }
        body.presenter-mode .nav-links { display: none; }
        body.presenter-mode section { padding: 40px 60px; border-bottom: none; }
        body.presenter-mode .ecosystem-chain { flex-direction: column; gap: 10px; } 
        body.presenter-mode .eco-step { border-left: 5px solid var(--brand-red); }
        body.presenter-mode .eco-step:not(:last-child)::after { content: '‚Üì'; right: 50%; top: auto; bottom: -20px; transform: translateX(50%); }
        body.presenter-mode .home-title { font-size: 4rem; }
        body.presenter-mode .market-strip { display: flex; } 
        body.presenter-mode .bento-grid { grid-template-columns: 1fr; }
        body.presenter-mode .col-span-2 { grid-column: span 1; }
        body.presenter-mode .pipeline-container { flex-direction: column; gap: 40px; }
        body.presenter-mode .pipe-line { width: 3px; height: 100%; left: 50%; top: 60px; right: auto; transform: translateX(-50%); }
        body.presenter-mode .flow-dot { top: 0; left: -3px; width: 10px; height: 10px; animation: flow-vert 2s infinite linear; }
        @keyframes flow-vert { 0% { top: 0; opacity: 1; } 100% { top: 100%; opacity: 0; } }
        #presenter-indicator { display: none; position: fixed; bottom: 20px; left: 20px; background: var(--brand-red); color: white; padding: 5px 15px; border-radius: 4px; font-weight: bold; z-index: 2000; }
        body.presenter-mode #presenter-indicator { display: block; }

        /* Mobile */
        @media (max-width: 768px) {
            #navbar { padding-left: 20px; justify-content: flex-end; }
            #global-logo { position: absolute; left: 0; width: 180px; }
            #global-logo img { max-height: 50px; }
            .nav-links { display: none; }
            .grid-2, .grid-3, .bento-grid { grid-template-columns: 1fr !important; }
            .col-span-2 { grid-column: span 1; }
            .ecosystem-chain { flex-direction: column; }
            .eco-step:not(:last-child)::after { display: none; }
            .home-title { font-size: 2.5rem; }
            .asset-container { flex-wrap: wrap; justify-content: flex-start; }
            .asset-popup { display: none; } 
            .market-strip { flex-direction: column; gap: 20px; padding: 20px; }
            .market-stat { border-right: none; border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 10px; width: 100%; }
            .market-stat:last-child { border-bottom: none; }
            .pipeline-container { flex-direction: column; gap: 40px; padding-top: 60px;}
            .pipe-line { display: none; } /* Simplified for mobile */
            .flywheel-container { flex-direction: column; gap: 20px; }
            .fw-arrow { transform: rotate(90deg); padding: 10px 0; }
            .fw-item { width: 100%; }
            .detail-grid { grid-template-columns: 1fr; gap: 15px; }
        }
    </style>
</head>
<body>

    <!-- GLOBAL LOGO -->
    <div id="global-logo">
        <img src="assets/logo.png" alt="Company Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
        <div class="logo-fallback" style="display:none;">Brand Logiq</div>
    </div>

    <!-- Progress Bar -->
    <div id="progress-container"><div id="progress-bar"></div></div>

    <!-- Navigation -->
    <nav id="navbar">
        <ul class="nav-links">
            <li><a href="#home" class="active">Home</a></li>
            <li><a href="#strategy">Strategic Pivot</a></li>
            <li><a href="#broadcast">Broadcast Ops</a></li>
            <li><a href="#commercial">Commercialization</a></li>
            <li><a href="#timeline">90-Day Plan</a></li>
        </ul>
        <div class="controls">
            <button class="btn-toggle" id="presenter-toggle"><span>Presenter Mode</span></button>
        </div>
    </nav>

    <div id="presenter-indicator">Presenter Mode: ON</div>

    <main>
        
        <!-- 1. HOME -->
        <section id="home" class="bg-pattern">
            <div class="container">
                <div class="fade-in-up">
                    <span class="badge badge-red"><span class="live-dot"></span>Executive Overview</span>
                    <h1 class="home-title">The Business of Live Sports: <br><span class="text-red">From Pitch to Platform</span></h1>
                    <p class="home-subtitle">Deconstructing the ecosystem of sports on DGO - how we acquire rights, manage the signal, and commercialize the experience ?</p>
                </div>

                <!-- Assets (Same as before) -->
                <div class="asset-container fade-in-up delay-1">
                    <div style="font-size: 0.85rem; font-weight: 700; color: #999; text-transform: uppercase; align-self: center; margin-right: 10px;">Primary Assets:</div>
                    <div class="asset-item"><div class="asset-dot"></div> Cricket
                        <div class="asset-popup">
                            <div class="popup-img-wrapper"><img src="assets/cricket.jpg" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"><div class="img-placeholder" style="display:none">IMG</div></div>
                            <div class="popup-text">Nepal Premier League stands out as one of the highest viewed sporting event in the country.</div>
                        </div>
                    </div>
                    <div class="asset-item"><div class="asset-dot"></div> Football
                        <div class="asset-popup">
                             <div class="popup-img-wrapper"><img src="assets/football.jpg" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"><div class="img-placeholder" style="display:none">IMG</div></div>
                            <div class="popup-text">Football in Nepal has shown a great potential, specially with the women's team matches drawing a huge attention.</div>
                        </div>
                    </div>
                    <div class="asset-item"><div class="asset-dot"></div> Volleyball
                        <div class="asset-popup">
                             <div class="popup-img-wrapper"><img src="assets/volleyball.jpg" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"><div class="img-placeholder" style="display:none">IMG</div></div>
                            <div class="popup-text">The national game of Nepal has a huge commercial market, in a way - yet to be tapped.</div>
                        </div>
                    </div>
                    <div class="asset-item"><div class="asset-dot"></div> eSports
                        <div class="asset-popup">
                             <div class="popup-img-wrapper"><img src="assets/eSports.jpg" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"><div class="img-placeholder" style="display:none">IMG</div></div>
                            <div class="popup-text">The youngest sports vertical has a massive youth following and interest.</div>
                        </div>
                    </div>
                </div>

                <div class="market-strip-container fade-in-up delay-2">
                    <div class="market-strip">
                        <div class="market-stat"><div class="m-val"><span class="market-counter" data-target="38">0</span>M+</div><div class="m-label">Internet Subscriptions</div></div>
                        <div class="market-stat"><div class="m-val">~<span class="market-counter" data-target="40">0</span>%</div><div class="m-label">Youth Demographic (16-40)</div></div>
                        <div class="market-stat"><div class="m-val"><span class="market-counter" data-target="72">0</span>%</div><div class="m-label">Smartphone Penetration</div></div>
                    </div>
                    <div class="market-source">Source: NTA MIS Report (2024) / Central Bureau of Statistics (CBS) Data</div>
                </div>

                <div class="ecosystem-chain">
                    <div class="eco-step fade-in-up delay-3"><div class="step-icon">1</div><div class="step-title">Acquisition</div><div class="step-desc"><strong>The IP (Rights).</strong> Bidding for legal permission to broadcast leagues.</div></div>
                    <div class="eco-step fade-in-up delay-4"><div class="step-icon">2</div><div class="step-title">Production</div><div class="step-desc"><strong>The Signal.</strong> Capturing live feeds via satellite/fiber and adding graphics.</div></div>
                    <div class="eco-step fade-in-up delay-5"><div class="step-icon">3</div><div class="step-title">Delivery</div><div class="step-desc"><strong>The Platform.</strong> Streaming to DGO users with low latency.</div></div>
                    <div class="eco-step fade-in-up delay-5" style="transition-delay: 0.6s;"><div class="step-icon">4</div><div class="step-title">Commercialization</div><div class="step-desc"><strong>The Revenue.</strong> Converting viewership into money.</div></div>
                </div>

                <div class="agenda-section fade-in-up delay-5" style="transition-delay: 0.7s; text-align:right;">
                    <a href="#strategy" class="btn-start">Start: Why Sports? &rarr;</a>
                </div>
            </div>
        </section>

        <!-- 2. STRATEGIC VALIDATION (BENTO GRID) -->
        <section id="strategy" class="bg-pattern">
            <div class="container">
                <div class="fade-in-up">
                    <h2 class="section-title">Why Sports? Global & Regional Trends</h2>
                    <p class="section-subtitle">A deep dive into how global giants leverage sports for scale, retention, and commerce.</p>
                </div>

                <!-- India Region -->
                <div class="grid-header fade-in-up">Regional Powerhouse (India)</div>
                <div class="bento-grid">
                    
                    <!-- JioHotstar (Big Feature) -->
                    <div class="pop-card col-span-2 fade-in-up delay-1" onclick="openModal('jio')" style="border-top: 5px solid #0078BC; background: linear-gradient(to bottom right, #ffffff, #e1f5fe);">
                        <div>
                            <div class="brand-logo-text" style="color: #0078BC; font-size: 1.5rem;">JioHotstar <span style="font-weight:400; color:#555; font-size:0.9rem; margin-left:8px;">(Merged Entity)</span></div>
                            <div class="stat-row">
                                <div><div class="stat-huge" style="color:#0078BC;">60 Crore+</div><div class="stat-label">Projected Unique Reach (IPL 25)</div></div>
                                <div><div class="stat-huge" style="color:#333;">Ad-Led</div><div class="stat-label">Primary Revenue Model</div></div>
                            </div>
                            <p class="desc-text"><strong>The Strategy:</strong> "Free Sports for Scale." By removing the paywall, they capture 90% of data-consuming youth, monetizing via massive ad inventory scale (SSAI) rather than subscription alone.</p>
                        </div>
                        <div class="citation-box">Source: Media Partners Asia (MPA) 2025 Outlook / FICCI-EY Report</div>
                    </div>

                    <!-- Nepal Gap -->
                    <div class="pop-card card-dark fade-in-up delay-2" onclick="openModal('nepal')" style="border-top: 5px solid var(--brand-red);">
                        <div>
                            <div class="brand-logo-text text-red">THE NEPAL OPPORTUNITY</div>
                            <div class="stat-huge">Zero</div>
                            <div class="stat-label">Dominant Sports OTTs</div>
                            <p class="desc-text" style="margin-top:20px;">
                                While India has JioHotstar, Nepal has 30M+ users with 4G/Fiber but no local platform for Tier-1 sports. DGO is the first-mover.
                            </p>
                        </div>
                        <div class="citation-box">Opportunity Index: High</div>
                    </div>
                </div>

                <!-- International Region -->
                <div class="grid-header fade-in-up delay-2">International Benchmarks</div>
                <div class="bento-grid">
                    <!-- Netflix -->
                    <div class="pop-card fade-in-up delay-3" onclick="openModal('netflix')" style="border-top: 5px solid #E50914;">
                        <div class="brand-logo-text" style="color: #E50914;">NETFLIX</div>
                        <div class="stat-huge" style="font-size: 2.2rem;">$5 Billion</div>
                        <div class="stat-label">WWE RAW Deal (10 Years)</div>
                        <p class="desc-text" style="margin-top:15px;"><strong>The Pivot:</strong> Moving from VOD (Binge) to Live (Appointment Viewing) to reduce monthly churn.</p>
                        <div class="citation-box">Source: Netflix SEC 10-K Filing / Variety</div>
                    </div>

                    <!-- Sony LIV -->
                    <div class="pop-card fade-in-up delay-4" onclick="openModal('sony')" style="border-top: 5px solid #F9A825;">
                        <div class="brand-logo-text" style="color: #F9A825;">Sony LIV</div>
                        <div class="stat-huge" style="font-size: 2.2rem;">Premium</div>
                        <div class="stat-label">UEFA Rights Holder</div>
                        <p class="desc-text" style="margin-top:15px;"><strong>The Model:</strong> Targeting the "High ARPU" urban user who pays for quality (Champions League).</p>
                        <div class="citation-box">Source: Ormax Media OTT Report 2024</div>
                    </div>

                    <!-- Prime Video -->
                    <div class="pop-card fade-in-up delay-5" onclick="openModal('prime')" style="border-top: 5px solid #00A8E1;">
                        <div class="brand-logo-text" style="color: #00A8E1;">prime video</div>
                        <div class="stat-huge" style="font-size: 2.2rem;">Narrative</div>
                        <div class="stat-label">Docu-Series (The Test)</div>
                        <p class="desc-text" style="margin-top:15px;"><strong>The Eco-System:</strong> Using behind-the-scenes content to keep fans engaged when matches aren't live.</p>
                        <div class="citation-box">Source: Amazon Global Report</div>
                    </div>
                </div>

                <!-- FLYWHEEL SECTION -->
                <div class="flywheel-wrapper fade-in-up delay-5" style="margin-top: 50px;">
                    <h3 class="grid-header" style="margin-bottom: 25px; border-color: #333;">The Strategic Fit: DGO Ecosystem</h3>
                    <div class="flywheel-container">
                        <div class="fw-item">
                            <div class="fw-icon">üß≤</div>
                            <div class="fw-content"><div class="fw-title">Acquisition Hook</div><div class="fw-desc">Sports is the cheapest way to acquire users (Low CPA). It forces immediate app downloads.</div></div>
                        </div>
                        <div class="fw-arrow">‚ûú</div>
                        <div class="fw-item">
                            <div class="fw-icon">üîÑ</div>
                            <div class="fw-content"><div class="fw-title">Habit Formation</div><div class="fw-desc">Unlike movies (watch once), sports creates recurring weekly active users (WAU).</div></div>
                        </div>
                        <div class="fw-arrow">‚ûú</div>
                        <!-- CHANGED ITEM HERE -->
                        <div class="fw-item">
                            <div class="fw-icon">üè†</div>
                            <div class="fw-content"><div class="fw-title">DGO - The Home of Nepal Sports</div><div class="fw-desc">Establishing DGO as a household name for the sports action in country.</div></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. BROADCAST OPS (UPDATED WITH TECH STACK) -->
        <section id="broadcast" class="bg-pattern">
            <div class="container">
                <div class="fade-in-up">
                    <h2 class="section-title">Broadcast Operations</h2>
                    <p class="section-subtitle">Delivering a 4K Live Signal in a bandwidth-constrained environment.</p>
                </div>
                
                <!-- ENHANCED LIVE PIPELINE -->
                <div class="pipeline-container fade-in-up delay-1">
                    <div class="live-indicator">
                        <span class="blink-dot"></span> LIVE SIGNAL PATH
                    </div>
                    
                    <!-- Step 1 -->
                    <div class="pipe-node">
                        <div class="pipe-icon">üì°</div>
                        <div class="pipe-label">Ingest</div>
                        <div class="pipe-tech">Protocol: SRT (UDP)</div>
                        <div class="pipe-stat">Bitrate: <span class="live-num">12.5</span> Mbps</div>
                        <div class="pipe-line"><div class="flow-dot"></div></div>
                    </div>
                    <!-- Step 2 -->
                    <div class="pipe-node">
                        <div class="pipe-icon">üéõÔ∏è</div>
                        <div class="pipe-label">Transcoding</div>
                        <div class="pipe-tech">Codec: HEVC (H.265)</div>
                        <div class="pipe-stat">Profile: ABR Ladder</div>
                        <div class="pipe-line"><div class="flow-dot" style="animation-delay: 0.5s"></div></div>
                    </div>
                    <!-- Step 3 -->
                    <div class="pipe-node">
                        <div class="pipe-icon">‚òÅÔ∏è</div>
                        <div class="pipe-label">Local Peering</div>
                        <div class="pipe-tech">Node: NPIX / KTM</div>
                        <div class="pipe-stat">Latency: <span class="live-latency">24</span>ms</div>
                        <div class="pipe-line"><div class="flow-dot" style="animation-delay: 1s"></div></div>
                    </div>
                    <!-- Step 4 -->
                    <div class="pipe-node">
                        <div class="pipe-icon">üì±</div>
                        <div class="pipe-label">Playback</div>
                        <div class="pipe-tech">Player: ExoPlayer</div>
                        <div class="pipe-stat">Buffer: Healthy</div>
                    </div>
                </div>

                <!-- TECH STACK GRID -->
                <div class="grid-3 fade-in-up delay-2">
                    <!-- Card 1 -->
                    <div class="tech-card">
                        <div class="tc-header">
                            <div class="tc-icon">üìâ</div>
                            <div class="tc-title">Data Optimization</div>
                        </div>
                        <p class="tc-desc">We use <strong>HEVC (H.265)</strong> compression to deliver 1080p quality at just <strong>4Mbps</strong>. This saves users 40% data compared to standard streams.</p>
                        <div class="tc-tag">User Benefit: Less Data Use</div>
                    </div>

                    <!-- Card 2 -->
                    <div class="tech-card">
                        <div class="tc-header">
                            <div class="tc-icon">‚ö°</div>
                            <div class="tc-title">Local Peering (NPIX)</div>
                        </div>
                        <p class="tc-desc">Traffic stays inside Nepal. By peering directly with local ISPs via <strong>NPIX</strong>, we bypass expensive international bandwidth and reduce latency.</p>
                        <div class="tc-tag">Ops Benefit: Lower Cost</div>
                    </div>

                    <!-- Card 3 -->
                    <div class="tech-card">
                        <div class="tc-header">
                            <div class="tc-icon">üõ°Ô∏è</div>
                            <div class="tc-title">Signal Reliability</div>
                        </div>
                        <p class="tc-desc">We replaced RTMP with <strong>SRT (Secure Reliable Transport)</strong>. This recovers lost packets during transmission, preventing "glitches" even on unstable connections.</p>
                        <div class="tc-tag">Quality: Zero Glitch</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. COMMERCIALIZATION -->
        <section id="commercial">
             <div class="container">
                <div class="fade-in-up">
                    <h2 class="section-title">Commercialization</h2>
                    <p class="section-subtitle">Monetizing the eyeballs.</p>
                </div>
                
                <div class="grid-2">
                    <div class="card fade-in-up">
                        <h3 class="text-red">Revenue Models</h3>
                        <div style="margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 15px;">
                            <strong>Subscription (SVOD)</strong>
                            <p class="text-muted" style="font-size: 0.9rem;">Users pay monthly to access Tier 1 sports.</p>
                        </div>
                        <div style="margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 15px;">
                            <strong>Advertising (AVOD)</strong>
                            <p class="text-muted" style="font-size: 0.9rem;">Free users see pre-roll ads before stream starts and mid-roll ads during breaks.</p>
                        </div>
                        <div>
                            <strong>Sponsorship</strong>
                            <p class="text-muted" style="font-size: 0.9rem;">"Powered By" logos, on-screen graphics, and studio branding.</p>
                        </div>
                    </div>

                    <div class="card fade-in-up delay-1" style="background: #f9f9f9; text-align: center;">
                        <h3>The Sports Funnel</h3>
                        <p class="text-muted" style="margin-bottom: 30px;">Sports has the lowest Cost Per Acquisition (CPA).</p>
                        <div style="background: #ddd; height: 40px; width: 90%; margin: 0 auto 5px; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.8rem;">Casual Fan (Free Highlights)</div>
                        <div style="background: #ccc; height: 40px; width: 70%; margin: 0 auto 5px; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.8rem;">Live Viewer (Ad Supported)</div>
                        <div style="background: var(--brand-red); height: 40px; width: 50%; margin: 0 auto; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.8rem;">Premium Sub (Recurring Revenue)</div>
                    </div>
                </div>
             </div>
        </section>

        <!-- 5. 90-DAY PLAN -->
        <section id="timeline">
            <div class="container">
                <div class="fade-in-up"><h2 class="section-title">90-Day Execution</h2><p class="section-subtitle">Roadmap to launch.</p></div>
                <div class="timeline-wrapper">
                    <div class="timeline-item fade-in-up"><span class="timeline-date">Days 0 - 30</span><h3>Acquisition & Tech</h3></div>
                    <div class="timeline-item fade-in-up delay-1"><span class="timeline-date">Days 31 - 60</span><h3>Commercial Setup</h3></div>
                    <div class="timeline-item fade-in-up delay-2"><span class="timeline-date">Days 61 - 90</span><h3>Launch</h3></div>
                </div>
            </div>
        </section>

    </main>

    <!-- HIDDEN MODAL OVERLAY -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div id="m-header-content">
                    <h2 id="m-title" style="margin-bottom: 5px;">Title</h2>
                    <span id="m-sub" class="badge">Subtitle</span>
                </div>
                <button class="btn-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="detail-grid">
                    <div class="d-metric-box">
                        <div class="d-val" id="m-stat1">0</div>
                        <div class="d-lab" id="m-label1">Label</div>
                    </div>
                    <div class="d-metric-box">
                        <div class="d-val" id="m-stat2">0</div>
                        <div class="d-lab" id="m-label2">Label</div>
                    </div>
                </div>
                
                <h4 style="margin-bottom: 15px; color:#555;">Data Visualization: <span id="m-chart-title">Metric</span></h4>
                <div class="chart-container" id="m-chart">
                    <!-- Bars injected via JS -->
                </div>

                <div class="desc-text" id="m-desc" style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;">
                    Description text.
                </div>
                <div class="citation-box" id="m-cite">Source</div>
            </div>
        </div>
    </div>

    <script>
        const $ = (s) => document.querySelector(s);
        const $$ = (s) => document.querySelectorAll(s);

        // --- DATA DICTIONARY FOR MODALS (2025 Data) ---
        const modalData = {
            jio: {
                title: "JioHotstar: The Merger Effect",
                sub: "Dominant Market Leader (2025)",
                stat1: "‚Çπ50Bn+",
                label1: "Proj. Ad Revenue (IPL 25)",
                stat2: "90%",
                label2: "Live Sports Market Share",
                desc: "Post-merger (Reliance + Disney), JioHotstar controls nearly all major cricket rights in India. Their model relies on Server-Side Ad Insertion (SSAI) to deliver targeted ads to 500M+ concurrent users. They have effectively killed the 'Pay-for-Sports' model in India for mass events.",
                citation: "Source: Goldman Sachs Equity Research (Jan 2025) / Inc42 Merger Analysis",
                color: "#0078BC",
                chartTitle: "Revenue Mix (Projected 2025)",
                chartData: [
                    { label: "Advertising", value: 75, disp: "75%" },
                    { label: "Subscription", value: 25, disp: "25%" }
                ]
            },
            nepal: {
                title: "The Nepal Opportunity",
                sub: "Market Gap Analysis",
                stat1: "12.3M",
                label1: "4G Data Users",
                stat2: "<1%",
                label2: "Paid OTT Penetration",
                desc: "There is a massive disconnect between internet capability and content availability. While 12M+ users consume high-bandwidth data, most consumption happens on pirated streams or social clips. DGO has the opportunity to convert this 'Grey Market' traffic into 'White Market' revenue via easy payment integrations (eSewa/Khalti).",
                citation: "Source: Nepal Telecommunications Authority (NTA) MIS 2024 / World Bank Digital Nepal Report",
                color: "#D32F2F",
                chartTitle: "Digital Adoption vs. Paid Content",
                chartData: [
                    { label: "Internet Access", value: 90, disp: "90%" },
                    { label: "Paid OTT Subs", value: 5, disp: "~5%" }
                ]
            },
            netflix: {
                title: "Netflix: Live Pivot",
                sub: "From Binge to Appointment Viewing",
                stat1: "$5 Billion",
                label1: "Content Spend (Live)",
                stat2: "-12%",
                label2: "Churn Reduction Target",
                desc: "In Jan 2025, Netflix began broadcasting WWE Raw live. This strategic shift addresses their biggest weakness: churn. Live sports forces users to log in at specific times (Appointment Viewing) rather than bingeing a series and cancelling the subscription the next month.",
                citation: "Source: Wall Street Journal (Jan 2025) / Netflix Investor Relations",
                color: "#E50914",
                chartTitle: "Retention Power (Month 3)",
                chartData: [
                    { label: "VOD Only", value: 65, disp: "65%" },
                    { label: "VOD + Live Sports", value: 88, disp: "88%" }
                ]
            },
            sony: {
                title: "Sony LIV: High ARPU",
                sub: "The Premium Niche",
                stat1: "‚Çπ1,499",
                label1: "Annual Premium Plan",
                stat2: "35M",
                label2: "Paying Subscribers",
                desc: "Unlike Jio's mass-market ad model, Sony LIV focuses on the 'Affluent Urban Male'. By locking down UEFA Champions League and UFC, they command the highest Average Revenue Per User (ARPU) in the region, proving that users *will* pay for high-quality, uninterrupted sports feeds.",
                citation: "Source: Ormax Media 'State of OTT 2025' / Mint Industry Analysis",
                color: "#F9A825",
                chartTitle: "Comparative ARPU (Indexed)",
                chartData: [
                    { label: "Generic OTT", value: 40, disp: "1.0x" },
                    { label: "Sony LIV", value: 90, disp: "2.3x" }
                ]
            },
            prime: {
                title: "Prime Video",
                sub: "The Commerce Engine",
                stat1: "200M+",
                label1: "Global Prime Subs",
                stat2: "15%",
                label2: "Higher Shopping Cart Value",
                desc: "For Amazon, sports is a loss-leader. They don't need to make a profit on the broadcast itself. Data shows that Prime members who watch 'Thursday Night Football' or cricket spend 15% more on the e-commerce store than non-viewers. Sports is the retention engine for the entire Prime ecosystem.",
                citation: "Source: Amazon Q4 2024 Earnings Call / Bloomberg Tech",
                color: "#00A8E1",
                chartTitle: "E-Commerce Engagement",
                chartData: [
                    { label: "Non-Viewers", value: 50, disp: "$Avg" },
                    { label: "Sports Viewers", value: 85, disp: "+35%" }
                ]
            }
        };

        // --- MODAL LOGIC ---
        const modal = document.getElementById('modal-overlay');

        function openModal(key) {
            const data = modalData[key];
            if(!data) return;

            // Populate Text
            $('#m-title').innerText = data.title;
            $('#m-title').style.color = data.color;
            $('#m-sub').innerText = data.sub;
            $('#m-sub').style.backgroundColor = data.color + '20'; // 20% opacity hex
            $('#m-sub').style.color = data.color;
            $('#m-stat1').innerText = data.stat1;
            $('#m-label1').innerText = data.label1;
            $('#m-stat2').innerText = data.stat2;
            $('#m-label2').innerText = data.label2;
            $('.d-metric-box').style.borderLeftColor = data.color;
            $('#m-desc').innerHTML = data.desc;
            $('#m-cite').innerText = data.citation;
            $('#m-chart-title').innerText = data.chartTitle;

            // Generate Chart
            const chartContainer = $('#m-chart');
            chartContainer.innerHTML = ''; // Clear old
            
            data.chartData.forEach(item => {
                const row = document.createElement('div');
                row.className = 'chart-row';
                row.innerHTML = `
                    <div class="c-label">${item.label}</div>
                    <div class="c-bar-area">
                        <div class="c-bar-fill" style="width: 0%; background: ${data.color}"></div>
                    </div>
                    <div class="c-val">${item.disp}</div>
                `;
                chartContainer.appendChild(row);
                
                // Trigger animation after render
                setTimeout(() => {
                    row.querySelector('.c-bar-fill').style.width = item.value + '%';
                }, 100);
            });

            // Show Modal
            modal.classList.add('active');
        }

        function closeModal() {
            modal.classList.remove('active');
        }

        // Close on click outside
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });
        
        // Close on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });


        // --- NAV & SCROLL ---
        const sections = $$('section');
        const navLinks = $$('.nav-links li a');
        const progressBar = $('#progress-bar');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${entry.target.id}`) link.classList.add('active');
                    });
                }
            });
        }, { threshold: 0.3 });
        sections.forEach(sec => observer.observe(sec));

        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            progressBar.style.width = (winScroll / height) * 100 + "%";
        });

        // --- ANIMATIONS ---
        const fadeObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    fadeObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        $$('.fade-in-up').forEach(el => fadeObserver.observe(el));

        // --- MARKET COUNTER ANIMATION ---
        let marketStatsRun = false;
        const marketObserver = new IntersectionObserver((entries) => {
            if (entries[0].isIntersecting && !marketStatsRun) {
                marketStatsRun = true;
                document.querySelectorAll('.market-counter').forEach(counter => {
                    const target = +counter.getAttribute('data-target');
                    const duration = 2000;
                    const startTime = performance.now();
                    const animate = (currentTime) => {
                        const elapsed = currentTime - startTime;
                        const progress = Math.min(elapsed / duration, 1);
                        const ease = 1 - Math.pow(1 - progress, 4);
                        const currentVal = Math.floor(ease * target);
                        counter.innerText = currentVal;
                        if (progress < 1) requestAnimationFrame(animate);
                        else counter.innerText = target;
                    };
                    requestAnimationFrame(animate);
                });
            }
        }, { threshold: 0.5 });
        const marketStrip = document.querySelector('.market-strip');
        if (marketStrip) marketObserver.observe(marketStrip);

        // --- LIVE PIPELINE SIMULATION (PAGE 3) ---
        setInterval(() => {
            // Randomize Bitrate between 12.0 and 13.0
            const bitrateNodes = document.querySelectorAll('.live-num');
            bitrateNodes.forEach(node => {
                const val = (12 + Math.random()).toFixed(1);
                node.innerText = val;
            });

            // Randomize Latency between 22 and 26
            const latencyNodes = document.querySelectorAll('.live-latency');
            latencyNodes.forEach(node => {
                const val = Math.floor(22 + Math.random() * 5);
                node.innerText = val;
            });
        }, 2000); // Update every 2 seconds

        // --- PRESENTER MODE ---
        $('#presenter-toggle').addEventListener('click', () => {
            document.body.classList.toggle('presenter-mode');
            const isActive = document.body.classList.contains('presenter-mode');
            const btn = $('#presenter-toggle span');
            btn.innerText = isActive ? "Exit Mode" : "Presenter Mode";
            $('#presenter-toggle').classList.toggle('active');
            window.dispatchEvent(new Event('resize'));
        });

        document.addEventListener('keydown', (e) => {
            if(e.key === 'p' || e.key === 'P') $('#presenter-toggle').click();
        });
    </script>
</body>
</html>
